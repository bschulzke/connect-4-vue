(function(){"use strict";var e={4653:function(e,r,t){var o=t(9963),i=t(6252);function n(e,r,t,o,n,a){const l=(0,i.up)("ConnectFour");return(0,i.wg)(),(0,i.j4)(l)}var a=t(3577);const l=e=>((0,i.dD)("data-v-68ffe2a2"),e=e(),(0,i.Cn)(),e),s=["onClick"],d=["onClick"],p={class:"options"},c={class:"player-selection"},h={class:"dropdown-wrapper"},u=["disabled"],y=l((()=>(0,i._)("option",null,"Human",-1))),g=l((()=>(0,i._)("option",null,"AI",-1))),m=[y,g],v={key:0,class:"slider-wrapper"},w=["disabled"],f=l((()=>(0,i._)("label",{disabled:"true",for:"a1"},"Difficulty",-1))),b=["disabled"],O={class:"player-selection"},k={class:"dropdown-wrapper"},C=["disabled"],T=l((()=>(0,i._)("option",null,"Human",-1))),D=l((()=>(0,i._)("option",null,"AI",-1))),P=[T,D],M={key:0,class:"slider-wrapper"},F=["disabled"],_=l((()=>(0,i._)("label",{disabled:"true",for:"a1"},"Difficulty",-1))),H={class:"loader-wrapper"},S={key:0,class:"throbber-loader"},x={class:"victory-text"},L={class:"connect-four"},W=["onClick"];function j(e,r,t,n,l,y){const g=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("div",{style:(0,a.j5)({"--p1":l.playerOneColor,"--yellow":l.playerTwoColor,"--border":y.border,"--green":y.green,"--green-hover":l.greenHover,"--white":l.white,"--overlay":l.overlay,"--grey":l.grey,"--text-color":y.textColor})},[l.playerOneColorPicker||l.playerTwoColorPicker?((0,i.wg)(),(0,i.iD)("div",{key:0,onClick:r[4]||(r[4]=e=>{l.playerOneColorPicker=!1,l.playerTwoColorPicker=!1}),class:"overlay"},[l.playerOneColorPicker?((0,i.wg)(),(0,i.iD)("div",{key:0,onClick:r[1]||(r[1]=(0,o.iM)((()=>{}),["prevent","stop"])),class:"color-picker"},[(0,i.Wm)(g,{onClick:r[0]||(r[0]=e=>l.playerOneColorPicker=!1),icon:"fa-solid fa-x"}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(y.p1ColorOptions,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e,class:(0,a.C_)(["big-tile",{"green-border":e==l.playerOneColor}]),style:(0,a.j5)({"background-color":e}),onClick:r=>l.playerOneColor=e},null,14,s)))),128))])):(0,i.kq)("",!0),l.playerTwoColorPicker?((0,i.wg)(),(0,i.iD)("div",{key:1,onClick:r[3]||(r[3]=(0,o.iM)((()=>{}),["prevent","stop"])),class:"color-picker"},[(0,i.Wm)(g,{onClick:r[2]||(r[2]=e=>l.playerTwoColorPicker=!1),icon:"fa-solid fa-x"}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(y.p2ColorOptions,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e,class:(0,a.C_)(["big-tile",{"green-border":e==l.playerTwoColor}]),style:(0,a.j5)({"background-color":e}),onClick:r=>l.playerTwoColor=e},null,14,d)))),128))])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),(0,i._)("div",p,[(0,i._)("div",c,[(0,i._)("div",h,[(0,i._)("div",{onClick:r[5]||(r[5]=e=>l.playerOneColorPicker=!0),class:"red-circle small-tile"}),(0,i.wy)((0,i._)("select",{disabled:y.optionsDisabled,"onUpdate:modelValue":r[6]||(r[6]=e=>l.playerOneOption=e)},m,8,u),[[o.bM,l.playerOneOption]])]),"AI"==l.playerOneOption?((0,i.wg)(),(0,i.iD)("div",v,[(0,i.wy)((0,i._)("input",{disabled:y.optionsDisabled,"onUpdate:modelValue":r[7]||(r[7]=e=>l.playerOneLevel=e),type:"range",id:"al",name:"a1",min:"0",max:"5"},null,8,w),[[o.nr,l.playerOneLevel]]),f])):(0,i.kq)("",!0)]),(0,i._)("button",{disabled:y.buttonDisabled,class:"button",role:"button",onClick:r[8]||(r[8]=(...e)=>y.startOrRestart&&y.startOrRestart(...e))},(0,a.zw)(y.buttonText),9,b),(0,i._)("div",O,[(0,i._)("div",k,[(0,i._)("div",{onClick:r[9]||(r[9]=e=>l.playerTwoColorPicker=!0),class:"yellow-circle small-tile"}),(0,i.wy)((0,i._)("select",{disabled:y.optionsDisabled,"onUpdate:modelValue":r[10]||(r[10]=e=>l.playerTwoOption=e)},P,8,C),[[o.bM,l.playerTwoOption]])]),"AI"==l.playerTwoOption?((0,i.wg)(),(0,i.iD)("div",M,[(0,i.wy)((0,i._)("input",{disabled:y.optionsDisabled,"onUpdate:modelValue":r[11]||(r[11]=e=>l.playerTwoLevel=e),type:"range",id:"al",name:"a1",min:"0",max:"5"},null,8,F),[[o.nr,l.playerTwoLevel]]),_])):(0,i.kq)("",!0)])]),(0,i._)("div",H,[l.isLoading?((0,i.wg)(),(0,i.iD)("div",S)):(0,i.kq)("",!0)]),(0,i._)("div",x,(0,a.zw)(y.victoryText),1),(0,i._)("div",L,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.game,((e,r)=>((0,i.wg)(),(0,i.iD)("div",{onClick:e=>y.playerMove(r),key:r,id:"col-0",class:(0,a.C_)(["column",{y:y.validateYellow&&y.isValidMove(r)},{r:y.validateRed&&y.isValidMove(r)},{hint:l.hint==r}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:(0,a.C_)([{red:1==l.game[r][t],yellow:2==l.game[r][t],"green-border":l.mostRecent[0]==r&&l.mostRecent[1]==t},"circle"])},null,2)))),128))],10,W)))),128))])],4)}t(560);var R=t(7810),N=t(2262);let I=new Worker("agent.js");var V={name:"Connect Four",components:{FontAwesomeIcon:R.GN},data(){return{game:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],redPlayer:!0,mostRecent:[-1,-1],playerOneOption:"Human",playerTwoOption:"AI",isLoading:!1,playerOneLevel:1,playerTwoLevel:1,playerOneColorPicker:!1,playerTwoColorPicker:!1,greenHover:"#50cc9f",white:"#FFFFFF",overlay:"rgba(0, 0, 0, 0.5)",grey:"rgb(157, 157, 157)",playerOneColor:"rgb(255, 45, 45)",playerTwoColor:"rgb(255, 255, 121)",colorOptions:["rgb(255, 45, 45)","rgb(255, 255, 121)","#E6E6FA","#f88379","#9FE2BF","#89cff0"],hint:null}},methods:{makeMove(e){!this.gameOver&&this.isValidMove(e)?(this.placeTile(e),this.redPlayer=!this.redPlayer,this.redPlayer&&"Human"!=this.playerOneOption&&!this.gameOver?this.agentMove():this.redPlayer||"Human"==this.playerTwoOption||this.gameOver||this.agentMove()):this.restartWorker(),this.hint=null},restartWorker(){I.terminate(),I=new Worker("agent.js"),this.loading=!1},playerMove(e){this.boardUnlocked&&this.makeMove(e)},getHint(){let e=this.getValidMoves();console.log("Hint depth: "+this.hintDepth);let r=[e,(0,N.IU)(this.game),this.player,this.otherPlayer,this.hintDepth];console.log("Starting up the worker to get a hint..."),I.postMessage(r),this.isLoading=!0,I.onmessage=e=>{console.log("Hint is column: "+e.data),this.hint=e.data,this.isLoading=!1}},resetGame(){this.redPlayer=!0,this.mostRecent[1]=-1,this.restartWorker(),this.game=[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]]},startOrRestart(){"Human"==this.playerOneOption||this.gameStarted?this.resetGame():this.agentMove(),this.hint=null},getValidMoves(){const e=[];for(let r=0;r<7;r++)this.board.some((e=>0===e[r]))&&e.push(r);return e},agentMove(){let e=this.getValidMoves(),r=[e,(0,N.IU)(this.game),this.player,this.otherPlayer,this.playerDepth];console.log("Starting up the worker..."),I.postMessage(r),this.isLoading=!0,I.onmessage=e=>{console.log("Agent worker chose move: "+e.data),this.makeMove(e.data),this.isLoading=!1}},placeTile(e){if(0==this.game[e][0]){let r=this.getRowForMove(e);this.mostRecent[0]=e,this.mostRecent[1]=r,this.game[e][r]=this.player}},isValidMove(e){return this.game[e].includes(0)},getRowForMove(e){return 0==this.game[e][5]?5:0==this.game[e][4]?4:0==this.game[e][3]?3:0==this.game[e][2]?2:0==this.game[e][1]?1:0==this.game[e][0]?0:void 0},isWinningState(e){const r=`${e}${e}${e}${e}`;function t(e){for(const t of e)if(t.join("").includes(r))return!0;return!1}function o(e){return t(e[0].map(((r,t)=>e.map((e=>e[t])))))}function i(e){for(let t of[null,e=>[...e].map((e=>e.reverse()))]){let o=t?t([...e]):[...e],i=o.map(((e,r)=>e[r])).map(Number);if(i.join("").includes(r))return!0;for(let t=1;t<=e[0].length-3;t++)for(let e of[t,-t]){let t=o.map(((r,t)=>r[t+e])).map(Number);if(t.join("").includes(r))return!0}}return!1}return t(this.board)||o(this.board)||i(this.board)}},computed:{player(){return this.gameOver?0:this.redPlayer?1:2},otherPlayer(){return this.gameOver?0:this.redPlayer?2:1},playerDepth(){return this.redPlayer?this.playerOneLevel:this.playerTwoLevel},otherPlayerDepth(){return this.redPlayer?Number(this.playerTwoLevel):Number(this.playerOneLevel)},hintDepth(){let e=Number(this.otherPlayerDepth);return e<1&&(e=1),e<4&&(e+=2),e},redWon(){return this.isWinningState(1)},yellowWon(){return this.isWinningState(2)},victoryText(){return this.redWon?"Player One wins!":this.yellowWon?"Player Two wins!":this.tied?"Cat's game!":""},gameStarted(){for(let e of this.game)if(e.includes(1)||e.includes(2))return!0;return!1},tied(){for(let e of this.game)if(e.includes(0))return!1;return!0},gameOver(){return this.redWon||this.yellowWon||this.tied},board(){return JSON.parse(JSON.stringify(this.game))},validateYellow(){return 2==this.player&&"Human"==this.playerTwoOption},validateRed(){return 1==this.player&&"Human"==this.playerOneOption},buttonDisabled(){return!this.gameStarted&&!this.aiStarts},aiStarts(){return"Human"!=this.playerOneOption},buttonText(){return this.aiStarts&&!this.gameStarted?"Start":"Restart"},boardUnlocked(){return!this.isLoading&&this.humanTurn},humanTurn(){return this.redPlayer?"Human"==this.playerOneOption:"Human"==this.playerTwoOption},optionsDisabled(){return this.gameStarted&&!this.gameOver},green(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"rgb(56, 167, 126)":"#5df0ba"},border(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"#FFFFFF":"rgb(157, 157, 157)"},textColor(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"#FFFFFF":"black"},p1ColorOptions(){let e=JSON.parse(JSON.stringify(this.colorOptions));return e.filter((e=>e!==this.playerTwoColor))},p2ColorOptions(){let e=JSON.parse(JSON.stringify(this.colorOptions));return e.filter((e=>e!==this.playerOneColor))}}},A=t(3744);const U=(0,A.Z)(V,[["render",j],["__scopeId","data-v-68ffe2a2"]]);var q=U,J=t(3636),Y=t(9417);J.vI.add(Y.EOp),J.vI.add(Y.BC0);var E={name:"App",components:{ConnectFour:q,FontAwesomeIcon:R.GN}};const G=(0,A.Z)(E,[["render",n]]);var K=G;(0,o.ri)(K).mount("#app")}},r={};function t(o){var i=r[o];if(void 0!==i)return i.exports;var n=r[o]={exports:{}};return e[o].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(r,o,i,n){if(!o){var a=1/0;for(p=0;p<e.length;p++){o=e[p][0],i=e[p][1],n=e[p][2];for(var l=!0,s=0;s<o.length;s++)(!1&n||a>=n)&&Object.keys(t.O).every((function(e){return t.O[e](o[s])}))?o.splice(s--,1):(l=!1,n<a&&(a=n));if(l){e.splice(p--,1);var d=i();void 0!==d&&(r=d)}}return r}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[o,i,n]}}(),function(){t.d=function(e,r){for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){var e={143:0};t.O.j=function(r){return 0===e[r]};var r=function(r,o){var i,n,a=o[0],l=o[1],s=o[2],d=0;if(a.some((function(r){return 0!==e[r]}))){for(i in l)t.o(l,i)&&(t.m[i]=l[i]);if(s)var p=s(t)}for(r&&r(o);d<a.length;d++)n=a[d],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(p)},o=self["webpackChunkpyscript_vue"]=self["webpackChunkpyscript_vue"]||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(4653)}));o=t.O(o)})();
//# sourceMappingURL=app.471bfa87.js.map